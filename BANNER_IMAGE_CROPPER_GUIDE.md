# ğŸ–¼ï¸ Banner Image Cropper - TÃ­nh NÄƒng Má»›i

## âœ¨ Tá»•ng quan

TÃ­nh nÄƒng **Image Cropper** giá»‘ng Facebook Ä‘Ã£ Ä‘Æ°á»£c tÃ­ch há»£p vÃ o há»‡ thá»‘ng quáº£n lÃ½ banner, cho phÃ©p admin dá»… dÃ ng chá»‰nh sá»­a áº£nh vá» Ä‘Ãºng tá»‰ lá»‡ 3:1 mÃ  khÃ´ng cáº§n pháº§n má»m bÃªn ngoÃ i.

## ğŸ¯ CÃ¡ch hoáº¡t Ä‘á»™ng

### **ğŸ” Tá»± Ä‘á»™ng phÃ¡t hiá»‡n tá»‰ lá»‡**
- Khi upload áº£nh, há»‡ thá»‘ng tá»± Ä‘á»™ng kiá»ƒm tra tá»‰ lá»‡
- Náº¿u tá»‰ lá»‡ **khÃ´ng pháº£i 3:1** (cho phÃ©p sai lá»‡ch 10%) â†’ Má»Ÿ **Image Cropper**
- Náº¿u tá»‰ lá»‡ **Ä‘Ãºng 3:1** â†’ Sá»­ dá»¥ng trá»±c tiáº¿p

### **âœ‚ï¸ Chá»‰nh sá»­a thá»§ cÃ´ng**
- NÃºt **"Chá»‰nh sá»­a"** xuáº¥t hiá»‡n khi Ä‘Ã£ cÃ³ áº£nh
- Click Ä‘á»ƒ má»Ÿ Image Cropper báº¥t cá»© lÃºc nÃ o
- Cho phÃ©p tinh chá»‰nh láº¡i vá»‹ trÃ­ crop

## ğŸ¨ Giao diá»‡n Image Cropper

### **ğŸ“± Layout chÃ­nh**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¨ Header: Chá»‰nh sá»­a Banner             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ HÆ°á»›ng dáº«n sá»­ dá»¥ng                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ–¼ï¸ Crop Area (600x200px - Tá»‰ lá»‡ 3:1)   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [áº¢nh vá»›i grid overlay]              â”‚ â”‚
â”‚ â”‚ â€¢ KÃ©o tháº£ Ä‘á»ƒ di chuyá»ƒn              â”‚ â”‚
â”‚ â”‚ â€¢ Grid 3x3 Ä‘á»ƒ cÄƒn chá»‰nh             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸšï¸ Zoom Slider: [âˆ’] â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ [+] 100%  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”§ Quick Actions: Thu nhá» | Äáº·t láº¡i | PhÃ³ng to â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’¡ HÆ°á»›ng dáº«n chi tiáº¿t                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Há»§y] [Ãp dá»¥ng & LÆ°u]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **ğŸ¨ MÃ u sáº¯c vÃ  thiáº¿t káº¿**
- **Header**: Gradient xanh (`from-blue-500 to-blue-600`)
- **Crop Area**: Border dashed xÃ¡m vá»›i background xÃ¡m nháº¡t
- **Grid**: Overlay tráº¯ng trong suá»‘t (hiá»‡n khi hover)
- **Slider**: Xanh vá»›i thumb trÃ²n cÃ³ shadow
- **Buttons**: Gradient xanh cho primary, xÃ¡m cho secondary

## ğŸ› ï¸ TÃ­nh nÄƒng chÃ­nh

### **1. ğŸ¯ Drag & Drop**
```typescript
// KÃ©o tháº£ Ä‘á»ƒ di chuyá»ƒn áº£nh
const handleMouseMove = (e: React.MouseEvent) => {
  if (!isDragging) return;
  
  const newX = e.clientX - dragStart.x;
  const newY = e.clientY - dragStart.y;
  
  // Giá»›i háº¡n di chuyá»ƒn trong crop area
  const clampedX = Math.max(-maxX, Math.min(maxX, newX));
  const clampedY = Math.max(-maxY, Math.min(maxY, newY));
  
  setPosition({ x: clampedX, y: clampedY });
};
```

### **2. ğŸ” Zoom Control**
- **Slider**: Tá»« 10% Ä‘áº¿n 300%
- **Quick buttons**: Thu nhá» (-20%), PhÃ³ng to (+20%)
- **Real-time preview**: Cáº­p nháº­t ngay láº­p tá»©c

### **3. ğŸ“ Smart Constraints**
- **Giá»›i háº¡n di chuyá»ƒn**: áº¢nh khÃ´ng thá»ƒ ra khá»i crop area
- **Auto-fit**: Tá»± Ä‘á»™ng scale Ä‘á»ƒ fit áº£nh vÃ o khung
- **Aspect ratio lock**: LuÃ´n giá»¯ tá»‰ lá»‡ 3:1

### **4. ğŸ¨ Visual Feedback**
- **Grid overlay**: Hiá»‡n khi hover Ä‘á»ƒ cÄƒn chá»‰nh
- **Cursor states**: `grab` â†’ `grabbing` khi drag
- **Tá»‰ lá»‡ indicator**: Badge "Tá»‰ lá»‡ 3:1" á»Ÿ gÃ³c pháº£i
- **Zoom percentage**: Hiá»ƒn thá»‹ % zoom hiá»‡n táº¡i

## ğŸ”§ TÃ­nh nÄƒng ká»¹ thuáº­t

### **ğŸ“Š Canvas Rendering**
```typescript
const drawImage = useCallback(() => {
  const canvas = canvasRef.current;
  const img = imageRef.current;
  
  // TÃ­nh toÃ¡n vá»‹ trÃ­ vÃ  kÃ­ch thÆ°á»›c
  const scaledWidth = imageDimensions.width * scale;
  const scaledHeight = imageDimensions.height * scale;
  
  const x = (cropArea.width - scaledWidth) / 2 + position.x;
  const y = (cropArea.height - scaledHeight) / 2 + position.y;

  // Váº½ áº£nh lÃªn canvas
  ctx.drawImage(img, x, y, scaledWidth, scaledHeight);
}, [scale, position, imageDimensions]);
```

### **ğŸ¯ Export cháº¥t lÆ°á»£ng cao**
```typescript
const handleCropImage = () => {
  // Táº¡o canvas cuá»‘i cÃ¹ng vá»›i kÃ­ch thÆ°á»›c 2000x667
  const finalCanvas = document.createElement('canvas');
  finalCanvas.width = 2000;
  finalCanvas.height = 667;
  
  // Copy vÃ  scale tá»« preview canvas
  finalCtx.drawImage(canvas, 0, 0, 600, 200, 0, 0, 2000, 667);
  
  // Export JPEG cháº¥t lÆ°á»£ng 90%
  finalCanvas.toBlob(callback, 'image/jpeg', 0.9);
};
```

### **ğŸ“± Responsive Design**
- **Desktop**: Full-size cropper (600x200px preview)
- **Mobile**: Tá»± Ä‘á»™ng scale xuá»‘ng phÃ¹ há»£p
- **Touch support**: Hoáº¡t Ä‘á»™ng tá»‘t trÃªn thiáº¿t bá»‹ cáº£m á»©ng

## ğŸ® CÃ¡ch sá»­ dá»¥ng

### **ğŸ“¤ Upload áº£nh má»›i**
1. Click **"Chá»n áº£nh tá»« thiáº¿t bá»‹"**
2. Chá»n file áº£nh tá»« mÃ¡y tÃ­nh
3. **Náº¿u tá»‰ lá»‡ sai** â†’ Image Cropper tá»± Ä‘á»™ng má»Ÿ
4. **Náº¿u tá»‰ lá»‡ Ä‘Ãºng** â†’ Sá»­ dá»¥ng trá»±c tiáº¿p

### **âœ‚ï¸ Chá»‰nh sá»­a áº£nh cÃ³ sáºµn**
1. Click nÃºt **"Chá»‰nh sá»­a"** (icon âœ‚ï¸)
2. Image Cropper má»Ÿ vá»›i áº£nh hiá»‡n táº¡i
3. Äiá»u chá»‰nh vá»‹ trÃ­ vÃ  zoom
4. Click **"Ãp dá»¥ng & LÆ°u"**

### **ğŸ¯ Trong Image Cropper**
1. **KÃ©o tháº£**: Di chuyá»ƒn áº£nh trong khung
2. **Zoom slider**: PhÃ³ng to/thu nhá» áº£nh
3. **Quick actions**: Thu nhá», Äáº·t láº¡i, PhÃ³ng to
4. **Grid**: Sá»­ dá»¥ng Ä‘á»ƒ cÄƒn chá»‰nh chÃ­nh xÃ¡c
5. **Ãp dá»¥ng**: LÆ°u áº£nh Ä‘Ã£ crop

## ğŸ¨ Hiá»‡u á»©ng vÃ  Animation

### **âœ¨ Smooth Transitions**
```css
.slider {
  transition: all 0.2s ease;
}

.slider::-webkit-slider-thumb:hover {
  transform: scale(1.1);
}

.cropper-grid {
  opacity: 0;
  transition: opacity 0.3s ease;
}
```

### **ğŸ­ Interactive States**
- **Hover effects**: Grid hiá»‡n, thumb scale
- **Drag states**: Cursor thay Ä‘á»•i
- **Loading states**: Disable buttons khi chÆ°a load xong

## ğŸ“Š ThÃ´ng sá»‘ ká»¹ thuáº­t

### **ğŸ¯ Crop Area**
- **Preview size**: 600x200px (tá»‰ lá»‡ 3:1)
- **Final output**: 2000x667px (cháº¥t lÆ°á»£ng cao)
- **Aspect ratio**: 3:1 (cá»‘ Ä‘á»‹nh)

### **ğŸ” Zoom Range**
- **Minimum**: 10% (0.1x)
- **Maximum**: 300% (3.0x)
- **Step**: 10% (0.1x)
- **Default**: Auto-fit Ä‘á»ƒ áº£nh vá»«a khung

### **ğŸ“ File Support**
- **Formats**: JPG, PNG, WebP, GIF
- **Max size**: KhÃ´ng giá»›i háº¡n (browser limit)
- **Output**: JPEG 90% quality

## ğŸ¯ Lá»£i Ã­ch

### âœ… **Cho Admin**
- **KhÃ´ng cáº§n pháº§n má»m**: Crop trá»±c tiáº¿p trÃªn web
- **ChÃ­nh xÃ¡c**: LuÃ´n Ä‘Ãºng tá»‰ lá»‡ 3:1
- **Dá»… sá»­ dá»¥ng**: Giao diá»‡n trá»±c quan nhÆ° Facebook
- **Cháº¥t lÆ°á»£ng cao**: Output 2000x667px

### âœ… **Cho Há»‡ thá»‘ng**
- **Tá»± Ä‘á»™ng**: PhÃ¡t hiá»‡n vÃ  xá»­ lÃ½ tá»‰ lá»‡ sai
- **Nháº¥t quÃ¡n**: Táº¥t cáº£ banner cÃ¹ng tá»‰ lá»‡
- **Tá»‘i Æ°u**: KhÃ´ng cáº§n lÆ°u áº£nh gá»‘c
- **Responsive**: Hiá»ƒn thá»‹ tá»‘t má»i thiáº¿t bá»‹

## ğŸ”„ Workflow hoÃ n chá»‰nh

```
ğŸ“¤ Upload áº£nh
    â†“
ğŸ” Kiá»ƒm tra tá»‰ lá»‡
    â†“
â“ Tá»‰ lá»‡ Ä‘Ãºng 3:1?
    â”œâ”€ âœ… CÃ³ â†’ Sá»­ dá»¥ng trá»±c tiáº¿p
    â””â”€ âŒ KhÃ´ng â†’ Má»Ÿ Image Cropper
                    â†“
                ğŸ¨ Äiá»u chá»‰nh vá»‹ trÃ­ & zoom
                    â†“
                ğŸ’¾ Ãp dá»¥ng & LÆ°u
                    â†“
                ğŸ¯ áº¢nh Ä‘Ã£ crop (2000x667px)
```

## ğŸ‰ Káº¿t luáº­n

TÃ­nh nÄƒng **Banner Image Cropper** cung cáº¥p:
- ğŸ¨ **Tráº£i nghiá»‡m nhÆ° Facebook**: Quen thuá»™c vÃ  dá»… sá»­ dá»¥ng
- âš¡ **Tá»± Ä‘á»™ng thÃ´ng minh**: PhÃ¡t hiá»‡n vÃ  xá»­ lÃ½ tá»‰ lá»‡
- ğŸ¯ **ChÃ­nh xÃ¡c tuyá»‡t Ä‘á»‘i**: LuÃ´n Ä‘Ãºng tá»‰ lá»‡ 3:1
- ğŸ“± **Responsive hoÃ n háº£o**: Hoáº¡t Ä‘á»™ng má»i thiáº¿t bá»‹

**Admin giá» Ä‘Ã¢y cÃ³ thá»ƒ dá»… dÃ ng táº¡o banner chuyÃªn nghiá»‡p mÃ  khÃ´ng cáº§n báº¥t ká»³ pháº§n má»m nÃ o khÃ¡c!** ğŸš€